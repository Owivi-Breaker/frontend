var e=Object.defineProperty,a=("undefined"!=typeof require&&require,(a,l,t)=>(((a,l,t)=>{l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t})(a,"symbol"!=typeof l?l+"":l,t),t));import{g as l,a as t}from"./club.54adc80c.js";import{u as n}from"./store.95bf63e0.js";import{d as s,aw as i,ax as r,r as o,o as u,b as d,w as c,g as m,ay as p,az as v,e as h,aA as w,aB as f,aC as g,aD as k,aE as _,aF as x,aG as b,aH as y,aI as M,aJ as C,c as j,aK as L}from"./vendor.3f82f248.js";import{h as z}from"./http.0fcac388.js";import{g as O}from"./save.53f3e374.js";import"./index.c392d4bc.js";g("data-v-49afcaac");const D={key:1},T={class:"firstTeam"},B=["src"],I=w("span",{class:"tenSpan"},null,-1),H={class:"name"},S=w("span",{class:"fiveSpan"},null,-1),V=w("span",{class:"point"},"0",-1),A=w("div",{class:"colon"},":",-1),P={class:"secondTeam"},q=w("span",{class:"point"},"0",-1),G=w("span",{class:"tenSpan"},null,-1),N={class:"name"},$=w("span",{class:"fiveSpan"},null,-1),E=["src"],F={class:"gameName"},J={class:"date"},K={class:"fromNow"};k();var U=s({setup(e){const a=n();let t,s=i(!0),g=i(["",""]),k=i(""),_=i(""),x=i(0);return r((()=>a.Date),((e,n)=>{t=new Date(a.Date).getTime()/1e3,x.value=(new Date(_.value).getTime()/1e3-t)/24/60/60,0==x.value&&l().then((e=>{k.value=e[0].game_name,_.value=e[0].date,g.value[0]=e[0].club1_name,g.value[1]=e[0].club2_name,x.value=(new Date(_.value).getTime()/1e3-t)/24/60/60})).catch((e=>{}))})),l().then((e=>{k.value=e[0].game_name,_.value=e[0].date,g.value[0]=e[0].club1_name,g.value[1]=e[0].club2_name,t=new Date(a.Date).getTime()/1e3,x.value=(new Date(_.value).getTime()/1e3-t)/24/60/60,s.value=!1})).catch((e=>{})),(e,a)=>{const l=o("n-spin"),t=o("n-gi"),n=o("n-grid"),i=o("n-card");return u(),d(i,{class:"nextGameCard",title:"下一场比赛-未开始"},{default:c((()=>[m(s)?(u(),d(l,{key:0,style:{"margin-left":"49%"},size:"medium"})):p("",!0),m(s)?p("",!0):(u(),v("div",D,[h(n,{cols:21,"x-gap":"12"},{default:c((()=>[h(t,{span:"10"},{default:c((()=>[w("div",T,[w("img",{src:"http://s1.s100.vip:13127/Public/"+m(g)[0]+".png",alt:"图片",class:"avatar"},null,8,B),I,w("span",H,f(m(g)[0]),1),S,V])])),_:1}),h(t,{span:"1"},{default:c((()=>[A])),_:1}),h(t,{span:"10"},{default:c((()=>[w("div",P,[q,G,w("span",N,f(m(g)[1]),1),$,w("img",{src:"http://s1.s100.vip:13127/Public/"+m(g)[1]+".png",alt:"图片",class:"avatar"},null,8,E)])])),_:1})])),_:1}),w("div",F,f(m(k)),1),w("div",J,"比赛时间 "+f(m(_)),1),w("div",K,"距今还有 "+f(m(x))+" 天",1)]))])),_:1})}}});U.__scopeId="data-v-49afcaac";const Q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},R=h("path",{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63l-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z",fill:"currentColor"},null,-1);var W=s({name:"Mail",render:function(e,a){return u(),d("svg",Q,[R])}});const X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Y=h("path",{d:"M448.67 154.45L274.1 68.2a41.1 41.1 0 0 0-36.2 0L63.33 154.45A55.6 55.6 0 0 0 32 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 0 0-31.33-50.08zM252.38 96.82a8.22 8.22 0 0 1 7.24 0L429 180.48l-172 85a8.22 8.22 0 0 1-7.24 0L80.35 181.81z",fill:"currentColor"},null,-1);var Z=s({name:"MailOpen",render:function(e,a){return u(),d("svg",X,[Y])}});const ee={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ae=h("path",{d:"M441.6 171.61L266.87 85.37a24.57 24.57 0 0 0-21.74 0L70.4 171.61A40 40 0 0 0 48 207.39V392c0 22.09 18.14 40 40.52 40h335c22.38 0 40.52-17.91 40.52-40V207.39a40 40 0 0 0-22.44-35.78z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le=h("path",{d:"M397.33 368L268.07 267.46a24 24 0 0 0-29.47 0L109.33 368",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),te=h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M309.33 295l136-103"},null,-1),ne=h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M61.33 192l139 105"},null,-1);var se=s({name:"MailOpenOutline",render:function(e,a){return u(),d("svg",ee,[ae,le,te,ne])}});const ie={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},re=h("rect",{x:"48",y:"96",width:"416",height:"320",rx:"40",ry:"40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),oe=h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M112 160l144 112l144-112"},null,-1);var ue=s({name:"MailOutline",render:function(e,a){return u(),d("svg",ie,[re,oe])}});const de=["innerHTML"],ce=x("关闭");var me=s({props:{mail:Object},setup(e){const a=e;s({components:{Mail:W,MailOutline:ue,MailOpen:Z,MailOpenOutline:se}});let l=i(0),t=i(""),n=i(""),r=i(!1);_((()=>{l.value=a.mail.id,t.value=a.mail.title,n.value=a.mail.time,r.value=a.mail.read}));let g=i(!1),k=i(!1),C=i("");return(e,a)=>{const l=o("n-icon"),s=o("n-space"),i=o("n-gi"),_=o("n-ellipsis"),j=o("n-grid"),L=o("n-scrollbar"),z=o("n-button"),O=o("n-card"),D=o("n-modal");return u(),v(M,null,[w("div",{class:b(["mailContainer",{mailContainerBlack:m(g)}]),onClick:a[0]||(a[0]=e=>(k.value=!0,C.value="你好。<br>听说你最近过得很好。<br>再见。<br>",void(r.value=!0))),onMouseenter:a[1]||(a[1]=e=>{y(g)?g.value=!0:g=!0}),onMouseleave:a[2]||(a[2]=e=>{y(g)?g.value=!1:g=!1})},[h(j,{cols:"20","x-gap":"10"},{default:c((()=>[h(i,{span:"2"},{default:c((()=>[h(s,{class:"mailItem",align:"center"},{default:c((()=>[h(l,{class:"mailIcon",size:"30"},{default:c((()=>[m(r)?p("",!0):(u(),d(m(ue),{key:0})),m(r)?(u(),d(m(se),{key:1})):p("",!0)])),_:1})])),_:1})])),_:1}),h(i,{span:"15"},{default:c((()=>[h(s,{class:"mailItem",align:"center"},{default:c((()=>[h(_,null,{default:c((()=>[x(f(m(t)),1)])),_:1})])),_:1})])),_:1}),h(i,{span:"3"},{default:c((()=>[h(s,{class:"mailItem",align:"center"},{default:c((()=>[w("p",null,f(m(n)),1)])),_:1})])),_:1})])),_:1})],34),h(D,{show:m(k),"onUpdate:show":a[4]||(a[4]=e=>y(k)?k.value=e:k=e)},{default:c((()=>[h(O,{style:{width:"900px"},title:m(t),bordered:!1,size:"huge"},{footer:c((()=>[h(z,{onClick:a[3]||(a[3]=e=>y(k)?k.value=!1:k=!1)},{default:c((()=>[ce])),_:1})])),default:c((()=>[h(L,{style:{"max-height":"300px"}},{default:c((()=>[w("div",{innerHTML:m(C)},null,8,de)])),_:1})])),_:1},8,["title"])])),_:1},8,["show"])],64)}}});const pe=x("查看更多");var ve=s({setup(e){let a=i([]),l=i(!0);return _((()=>{a.value=[{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0}],l.value=!1})),(e,t)=>{const n=o("n-button"),s=o("n-scrollbar"),i=o("n-card");return u(),d(i,{class:"mailCard",title:"收件箱"},{"header-extra":c((()=>[h(n,{onClick:t[0]||(t[0]=e=>{window.$router.push({name:"mail"})})},{default:c((()=>[pe])),_:1})])),default:c((()=>[h(s,{style:{"max-height":"400px"}},{default:c((()=>[m(l)?p("",!0):(u(!0),v(M,{key:0},C(m(a),(e=>(u(),d(me,{mail:e},null,8,["mail"])))),256))])),_:1})])),_:1})}}});var he=s({setup(e){let l=i([]),n=i(!0),s=0;O().then((e=>{let a=e.season;s=e.player_club_id,z.get("/league/me",null).then((e=>{let s=e.id;var i;(i={league_id:s,game_season:a},z.get(`/league/${i.league_id}/points-table`,i)).then((e=>{l.value=e,0===l.value.length&&t({league_id:s}).then((e=>{l.value=e})).catch((e=>{})),n.value=!1})).catch((e=>{}))})).catch((e=>{}))})).catch((e=>{}));let r=j((()=>l.value.map((e=>(e["俱乐部"]=e["名称"]?e["名称"]:e.name,delete e["名称"]?e["名称"]:e.name,e["积分"]=e["积分"]?e["积分"]:0,e[" 胜 "]=e["胜"]?e["胜"]:0,delete e["胜"]&&e["胜"],e[" 平 "]=e["平"]?e["平"]:0,delete e["平"]&&e["平"],e[" 负 "]=e["负"]?e["负"]:0,delete e["负"]&&e["负"],e["净胜"]=e["净胜球"]?e["净胜球"]:0,delete e["净胜球"]&&e["净胜球"],e["胜球"]=e["胜球"]?e["胜球"]:0,e["输球"]=e["输球"]?e["输球"]:0,e)))));class p{constructor(e){a(this,"title"),a(this,"key"),a(this,"fixed"),a(this,"width"),a(this,"align"),a(this,"render"),a(this,"sorter"),this.title=e,this.key=e,this.fixed="俱乐部"===e?"left":null,this.width="俱乐部"===e?100:null,this.align="俱乐部"===e?"left":"center",this.render=e=>{return L("p",{style:{margin:0,color:(a=e,s===a.id?"green":"black")}},{default:()=>e[this.key]});var a},this.sorter="default"}}let v=[new p("俱乐部"),new p("积分"),new p(" 胜 "),new p(" 平 "),new p(" 负 "),new p("净胜"),new p("胜球"),new p("输球")];return(e,a)=>{const l=o("n-data-table"),t=o("n-card");return u(),d(t,{title:"赛季排行榜"},{default:c((()=>[h(l,{columns:m(v),data:m(r),loading:m(n),size:"small"},null,8,["columns","data","loading"])])),_:1})}}}),we=s({setup:e=>(e,a)=>{const l=o("n-gi"),t=o("n-grid");return u(),v(M,null,[h(U),h(t,{cols:"2","x-gap":"20"},{default:c((()=>[h(l,null,{default:c((()=>[h(ve)])),_:1}),h(l,null,{default:c((()=>[h(he)])),_:1})])),_:1})],64)}});export{we as default};

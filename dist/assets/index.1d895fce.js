var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,o=(e,o)=>{for(var n in o||(o={}))t.call(o,n)&&s(e,n,o[n]);if(a)for(var n of a(o))r.call(o,n)&&s(e,n,o[n]);return e};"undefined"!=typeof require&&require;import{d as n,u as i,c as l,a as c,r as m,o as u,b as p,w as d,e as _,f,g as h,h as g,i as y,j as E,k as b,l as v,m as P,n as w,N as A,p as O,q as I,s as j,t as L,v as q,x as D,y as k,z as T,A as R,B as $,C as V,D as S,E as G,F as B,G as N,H as J,I as U,J as x,K as C,L as M,M as z,O as F,P as K,Q as W,R as H,S as Q,T as X,U as Y,V as Z,W as ee,X as ae,Y as te,Z as re,_ as se,$ as oe,a0 as ne,a1 as ie,a2 as le,a3 as ce,a4 as me,a5 as ue,a6 as pe,a7 as de,a8 as _e,a9 as fe,aa as he,ab as ge,ac as ye,ad as Ee,ae as be,af as ve,ag as Pe,ah as we,ai as Ae,aj as Oe,ak as Ie,al as je,am as Le,an as qe,ao as De,ap as ke,aq as Te,ar as Re,as as $e,at as Ve,au as Se,av as Ge}from"./vendor.3f82f248.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var Be=n({setup(e){const a=i(),t=l((()=>"dark"===a.value?c:null));return(e,a)=>{const r=m("n-global-style"),s=m("n-dialog-provider"),o=m("n-message-provider"),n=m("n-loading-bar-provider"),i=m("n-config-provider");return u(),p(i,{theme:h(t)},{default:d((()=>[_(r),_(n,null,{default:d((()=>[_(o,null,{default:d((()=>[_(s,null,{default:d((()=>[f(e.$slots,"default")])),_:3})])),_:3})])),_:3})])),_:3},8,["theme"])}}}),Ne=n({setup:e=>(window.$message=g(),window.$loadingBar=y(),window.$router=E(),(e,a)=>{const t=m("router-view");return u(),p(t)})}),Je=n({setup:e=>(e,a)=>(u(),p(h(Be),null,{default:d((()=>[_(h(Ne))])),_:1}))});const Ue=e=>{const a=localStorage.getItem(""+e);try{return JSON.parse(a)}catch{return a}},xe=(e,a)=>{localStorage.setItem(""+e,JSON.stringify(a))},Ce=e=>{localStorage.removeItem(""+e)},Me=b.create({baseURL:"http://s1.s100.vip:35881/api/v1/",timeout:6e5});Me.interceptors.request.use((e=>{const a=Ue("token");a&&(e.headers.authorization="Bearer "+a);const t=Ue("saveId");return t&&("post"===e.method?e.data=o({saveId:t},e.data):"get"===e.method&&(e.params=o({save_id:t},e.params))),e}),(e=>(console.log(e),Promise.reject(e)))),Me.interceptors.response.use((e=>{const a=e.data;return console.log("DEBUG: 拦截响应👇"),console.log(a),200!==e.status&&console.log("Error!"),Promise.resolve(a)}),(e=>{if(e&&e.response)switch(console.log("DEBUG: 错误信息👇"),console.log(e.response),e.response.status){case 400:switch(e.response.data.detail){case"Email already registered":window.$message.error("注册失败，用户名已存在。")}break;case 401:switch(Ce("token"),Ce("saveId"),e.response.data.detail){case"Incorrect username or password":window.$message.error("账号或密码错误");break;case"Could not validate credentials":window.$message.error("未授权或授权失效，请重新登录"),setTimeout((()=>{He.push({name:"login"})}),1e3)}break;case 403:break;case 404:window.$message.error("请求错误");break;case 405:case 408:case 500:case 501:break;case 502:window.$message.error("网络错误");break;case 503:case 504:case 505:break;default:console.log(`连接错误${e.response.status}`)}else JSON.stringify(e).includes("timeout")&&console.log("服务器响应超时，请刷新当前页");return window.$loadingBar.error(),Promise.reject(e)}));const ze={},Fe=function(e,a){return a&&0!==a.length?Promise.all(a.map((e=>{if((e=`./${e}`)in ze)return;ze[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const r=document.createElement("link");return r.rel=a?"stylesheet":"modulepreload",a||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),a?new Promise(((e,a)=>{r.addEventListener("load",e),r.addEventListener("error",a)})):void 0}))).then((()=>e())):e()},Ke=[{name:"login",path:"/login",component:()=>Fe((()=>import("./Login.99584973.js")),["assets/Login.99584973.js","assets/Login.be2f678c.css","assets/vendor.3f82f248.js","assets/login.8009cf7b.js","assets/http.f8166dba.js"]),meta:{title:"登录"}},{name:"register",path:"/register",component:()=>Fe((()=>import("./register.92c700c3.js")),["assets/register.92c700c3.js","assets/register.b3b5fd72.css","assets/vendor.3f82f248.js","assets/user.cf5e268b.js","assets/http.f8166dba.js","assets/login.8009cf7b.js"]),meta:{title:"注册"}},{name:"selectSave",path:"/select-save",component:()=>Fe((()=>import("./selectSave.46ed360f.js")),["assets/selectSave.46ed360f.js","assets/selectSave.8b6d33ec.css","assets/vendor.3f82f248.js","assets/save.4f9dccd6.js","assets/http.f8166dba.js"]),meta:{title:"选择存档"}},{name:"layout",path:"/",component:()=>Fe((()=>import("./index.13fcdc2d.js")),["assets/index.13fcdc2d.js","assets/index.a4c05de0.css","assets/vendor.3f82f248.js","assets/user.cf5e268b.js","assets/http.f8166dba.js","assets/store.95bf63e0.js","assets/player.37b326d9.js","assets/save.4f9dccd6.js"]),children:[...[{name:"home",path:"/",component:()=>Fe((()=>import("./home.d6233f3c.js")),["assets/home.d6233f3c.js","assets/home.4289a801.css","assets/http.f8166dba.js","assets/store.95bf63e0.js","assets/vendor.3f82f248.js","assets/save.4f9dccd6.js"]),meta:{title:"主页",requiresAuth:!0}},{name:"player",path:"/club-player",component:()=>Fe((()=>import("./clubPlayer.a593f1cf.js")),["assets/clubPlayer.a593f1cf.js","assets/clubPlayer.d6532821.css","assets/vendor.3f82f248.js","assets/CapaProgress.vue_vue&type=script&setup=true&lang.518b5e1d.js","assets/colorMap.e8cf714b.js","assets/store.95bf63e0.js"]),meta:{title:"球员",requiresAuth:!0}},{name:"playerPerform",path:"/playerPerform",component:()=>Fe((()=>import("./playerDataTable.6b6a8a94.js")),["assets/playerDataTable.6b6a8a94.js","assets/colorMap.e8cf714b.js","assets/store.95bf63e0.js","assets/vendor.3f82f248.js"]),meta:{title:"数据",requiresAuth:!0}},{name:"mail",path:"/mail",component:()=>Fe((()=>import("./Mail.352b41bc.js")),[]),meta:{title:"收件箱",requiresAuth:!0}},{name:"about",path:"/about",component:()=>Fe((()=>import("./about.24f8588a.js")),["assets/about.24f8588a.js","assets/vendor.3f82f248.js"]),meta:{title:"About",requiresAuth:!1}},{name:"playerPage",path:"/player-page",component:()=>Fe((()=>import("./playerPage.3f6e3f7f.js")),["assets/playerPage.3f6e3f7f.js","assets/playerPage.1c5669a4.css","assets/vendor.3f82f248.js","assets/CapaProgress.vue_vue&type=script&setup=true&lang.518b5e1d.js","assets/colorMap.e8cf714b.js","assets/player.37b326d9.js","assets/http.f8166dba.js","assets/save.4f9dccd6.js"]),meta:{title:"球员页",requiresAuth:!0}},{name:"prepareGame",path:"/prepareGame",component:()=>Fe((()=>import("./prepareGame.20f22975.js")),["assets/prepareGame.20f22975.js","assets/prepareGame.1ce2fc5e.css","assets/vendor.3f82f248.js","assets/store.95bf63e0.js","assets/TacticalSelector.vue_vue&type=script&setup=true&lang.290bedcc.js"]),meta:{title:"赛前准备",requiresAuth:!0}},{name:"onGame",path:"/onGame",component:()=>Fe((()=>import("./onGame.784f916b.js")),["assets/onGame.784f916b.js","assets/onGame.4887d2ea.css","assets/vendor.3f82f248.js","assets/player.37b326d9.js","assets/http.f8166dba.js","assets/save.4f9dccd6.js","assets/TacticalSelector.vue_vue&type=script&setup=true&lang.290bedcc.js","assets/colorMap.e8cf714b.js"]),meta:{title:"比赛进行中",requiresAuth:!0}},{name:"endGame",path:"/endGame",component:()=>Fe((()=>import("./endGame.d68896c5.js")),[]),meta:{title:"比赛结果",requiresAuth:!0}},{name:"playerPage",path:"/player-page",component:()=>Fe((()=>import("./playerPage.3f6e3f7f.js")),["assets/playerPage.3f6e3f7f.js","assets/playerPage.1c5669a4.css","assets/vendor.3f82f248.js","assets/CapaProgress.vue_vue&type=script&setup=true&lang.518b5e1d.js","assets/colorMap.e8cf714b.js","assets/player.37b326d9.js","assets/http.f8166dba.js","assets/save.4f9dccd6.js"]),meta:{title:"球员页",requiresAuth:!0}}]]},{name:"notFound",path:"/:path*",component:()=>Fe((()=>import("./error.cd54b91a.js")),["assets/error.cd54b91a.js","assets/vendor.3f82f248.js"]),meta:{title:"Oh no!"}}],We=P({history:v(),routes:Ke});We.beforeEach((e=>{var a,t;if(window.$loadingBar.start(),e.meta.title){let a=e.meta.title;document.title=a}const r=Ue("token"),s=Ue("saveId");return"login"===e.name&&null!=r||"selectSave"===e.name&&null!=r&&null!=s?null!=(t=null==(a=e.query.redirect)?void 0:a.toString())?t:"/":!0===e.meta.requiresAuth&&null==r?{name:"login",query:{redirect:e.fullPath}}:!0===e.meta.requiresAuth&&null==s?{name:"selectSave",query:{redirect:e.fullPath}}:void 0})),We.afterEach((()=>{window.$loadingBar.finish()}));var He=We,Qe=w({components:[A,O,I,j,L,q,D,k,T,R,$,V,S,G,B,N,J,U,x,C,M,z,F,K,W,H,Q,X,Y,Z,ee,ae,te,re,se,oe,ne,ie,le,ce,me,ue,pe,de,_e,fe,he,ge,ye,Ee,be,ve,Pe,we,Ae,Oe,Ie,je,Le,qe,De,ke,Te,Re,$e,Ve]});const Xe=Se(Je);Xe.use(He),Xe.use(Qe),Xe.mount("#app"),Xe.use(Ge());export{Ne as _,xe as a,Ce as r,Me as s};

var e=Object.defineProperty,a=("undefined"!=typeof require&&require,(a,l,t)=>(((a,l,t)=>{l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t})(a,"symbol"!=typeof l?l+"":l,t),t));import{h as l}from"./http.f8166dba.js";import{u as t}from"./store.95bf63e0.js";import{d as n,aw as s,ax as i,r,o as u,b as o,w as d,g as c,ay as m,az as p,e as v,aA as h,aB as g,aC as f,aD as w,aE as k,aF as _,aG as x,aH as b,aI as y,aJ as M,c as C,aK as j}from"./vendor.3f82f248.js";import{g as L}from"./save.4f9dccd6.js";import"./index.1d895fce.js";const z=()=>l.get("/test/incoming-games-info",null);f("data-v-49afcaac");const O={key:1},D={class:"firstTeam"},T=["src"],B=h("span",{class:"tenSpan"},null,-1),I={class:"name"},H=h("span",{class:"fiveSpan"},null,-1),S=h("span",{class:"point"},"0",-1),V=h("div",{class:"colon"},":",-1),A={class:"secondTeam"},P=h("span",{class:"point"},"0",-1),$=h("span",{class:"tenSpan"},null,-1),q={class:"name"},G=h("span",{class:"fiveSpan"},null,-1),N=["src"],E={class:"gameName"},F={class:"date"},J={class:"fromNow"};w();var K=n({setup(e){const a=t();let l,n=s(!0),f=s(["",""]),w=s(""),k=s(""),_=s(0);return i((()=>a.Date),((e,t)=>{l=new Date(a.Date).getTime()/1e3,_.value=(new Date(k.value).getTime()/1e3-l)/24/60/60,0==_.value&&z().then((e=>{w.value=e[0].game_name,k.value=e[0].date,f.value[0]=e[0].club1_name,f.value[1]=e[0].club2_name,_.value=(new Date(k.value).getTime()/1e3-l)/24/60/60})).catch((e=>{}))})),z().then((e=>{w.value=e[0].game_name,k.value=e[0].date,f.value[0]=e[0].club1_name,f.value[1]=e[0].club2_name,l=new Date(a.Date).getTime()/1e3,_.value=(new Date(k.value).getTime()/1e3-l)/24/60/60,n.value=!1})).catch((e=>{})),(e,a)=>{const l=r("n-spin"),t=r("n-gi"),s=r("n-grid"),i=r("n-card");return u(),o(i,{class:"nextGameCard",title:"下一场比赛-未开始"},{default:d((()=>[c(n)?(u(),o(l,{key:0,style:{"margin-left":"49%"},size:"medium"})):m("",!0),c(n)?m("",!0):(u(),p("div",O,[v(s,{cols:21,"x-gap":"12"},{default:d((()=>[v(t,{span:"10"},{default:d((()=>[h("div",D,[h("img",{src:"http://s1.s100.vip:13127/Public/"+c(f)[0]+".png",alt:"图片",class:"avatar"},null,8,T),B,h("span",I,g(c(f)[0]),1),H,S])])),_:1}),v(t,{span:"1"},{default:d((()=>[V])),_:1}),v(t,{span:"10"},{default:d((()=>[h("div",A,[P,$,h("span",q,g(c(f)[1]),1),G,h("img",{src:"http://s1.s100.vip:13127/Public/"+c(f)[1]+".png",alt:"图片",class:"avatar"},null,8,N)])])),_:1})])),_:1}),h("div",E,g(c(w)),1),h("div",F,"比赛时间 "+g(c(k)),1),h("div",J,"距今还有 "+g(c(_))+" 天",1)]))])),_:1})}}});K.__scopeId="data-v-49afcaac";const U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Q=v("path",{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63l-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z",fill:"currentColor"},null,-1);var R=n({name:"Mail",render:function(e,a){return u(),o("svg",U,[Q])}});const W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},X=v("path",{d:"M448.67 154.45L274.1 68.2a41.1 41.1 0 0 0-36.2 0L63.33 154.45A55.6 55.6 0 0 0 32 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 0 0-31.33-50.08zM252.38 96.82a8.22 8.22 0 0 1 7.24 0L429 180.48l-172 85a8.22 8.22 0 0 1-7.24 0L80.35 181.81z",fill:"currentColor"},null,-1);var Y=n({name:"MailOpen",render:function(e,a){return u(),o("svg",W,[X])}});const Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ee=v("path",{d:"M441.6 171.61L266.87 85.37a24.57 24.57 0 0 0-21.74 0L70.4 171.61A40 40 0 0 0 48 207.39V392c0 22.09 18.14 40 40.52 40h335c22.38 0 40.52-17.91 40.52-40V207.39a40 40 0 0 0-22.44-35.78z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ae=v("path",{d:"M397.33 368L268.07 267.46a24 24 0 0 0-29.47 0L109.33 368",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le=v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M309.33 295l136-103"},null,-1),te=v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M61.33 192l139 105"},null,-1);var ne=n({name:"MailOpenOutline",render:function(e,a){return u(),o("svg",Z,[ee,ae,le,te])}});const se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ie=v("rect",{x:"48",y:"96",width:"416",height:"320",rx:"40",ry:"40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),re=v("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M112 160l144 112l144-112"},null,-1);var ue=n({name:"MailOutline",render:function(e,a){return u(),o("svg",se,[ie,re])}});const oe=["innerHTML"],de=_("关闭");var ce=n({props:{mail:Object},setup(e){const a=e;n({components:{Mail:R,MailOutline:ue,MailOpen:Y,MailOpenOutline:ne}});let l=s(0),t=s(""),i=s(""),f=s(!1);k((()=>{l.value=a.mail.id,t.value=a.mail.title,i.value=a.mail.time,f.value=a.mail.read}));let w=s(!1),M=s(!1),C=s("");return(e,a)=>{const l=r("n-icon"),n=r("n-space"),s=r("n-gi"),k=r("n-ellipsis"),j=r("n-grid"),L=r("n-scrollbar"),z=r("n-button"),O=r("n-card"),D=r("n-modal");return u(),p(y,null,[h("div",{class:x(["mailContainer",{mailContainerBlack:c(w)}]),onClick:a[0]||(a[0]=e=>(M.value=!0,C.value="你好。<br>听说你最近过得很好。<br>再见。<br>",void(f.value=!0))),onMouseenter:a[1]||(a[1]=e=>{b(w)?w.value=!0:w=!0}),onMouseleave:a[2]||(a[2]=e=>{b(w)?w.value=!1:w=!1})},[v(j,{cols:"20","x-gap":"10"},{default:d((()=>[v(s,{span:"2"},{default:d((()=>[v(n,{class:"mailItem",align:"center"},{default:d((()=>[v(l,{class:"mailIcon",size:"30"},{default:d((()=>[c(f)?m("",!0):(u(),o(c(ue),{key:0})),c(f)?(u(),o(c(ne),{key:1})):m("",!0)])),_:1})])),_:1})])),_:1}),v(s,{span:"15"},{default:d((()=>[v(n,{class:"mailItem",align:"center"},{default:d((()=>[v(k,null,{default:d((()=>[_(g(c(t)),1)])),_:1})])),_:1})])),_:1}),v(s,{span:"3"},{default:d((()=>[v(n,{class:"mailItem",align:"center"},{default:d((()=>[h("p",null,g(c(i)),1)])),_:1})])),_:1})])),_:1})],34),v(D,{show:c(M),"onUpdate:show":a[4]||(a[4]=e=>b(M)?M.value=e:M=e)},{default:d((()=>[v(O,{style:{width:"900px"},title:c(t),bordered:!1,size:"huge"},{footer:d((()=>[v(z,{onClick:a[3]||(a[3]=e=>b(M)?M.value=!1:M=!1)},{default:d((()=>[de])),_:1})])),default:d((()=>[v(L,{style:{"max-height":"300px"}},{default:d((()=>[h("div",{innerHTML:c(C)},null,8,oe)])),_:1})])),_:1},8,["title"])])),_:1},8,["show"])],64)}}});const me=_("查看更多");var pe=n({setup(e){let a=s([]),l=s(!0);return k((()=>{a.value=[{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0},{id:1,title:"这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件这是一封新邮件",time:"2020-8-20",read:!1},{id:0,title:"这是一封旧邮件",time:"2020-8-19",read:!0}],l.value=!1})),(e,t)=>{const n=r("n-button"),s=r("n-scrollbar"),i=r("n-card");return u(),o(i,{class:"mailCard",title:"收件箱"},{"header-extra":d((()=>[v(n,{onClick:t[0]||(t[0]=e=>{window.$router.push({name:"mail"})})},{default:d((()=>[me])),_:1})])),default:d((()=>[v(s,{style:{"max-height":"400px"}},{default:d((()=>[c(l)?m("",!0):(u(!0),p(y,{key:0},M(c(a),(e=>(u(),o(ce,{mail:e},null,8,["mail"])))),256))])),_:1})])),_:1})}}});var ve=n({setup(e){let t=s([]),n=s(!0),i=0;L().then((e=>{let a=e.season;i=e.player_club_id,l.get("/league/me",null).then((e=>{let s=e.id;var i;(i={league_id:s,game_season:a},l.get(`/league/${i.league_id}/points-table`,i)).then((e=>{t.value=e,0===t.value.length&&(e=>l.get(`/league/${e.league_id}/club`,null))({league_id:s}).then((e=>{t.value=e})).catch((e=>{})),n.value=!1})).catch((e=>{}))})).catch((e=>{}))})).catch((e=>{}));let m=C((()=>t.value.map((e=>(e["俱乐部"]=e["名称"]?e["名称"]:e.name,delete e["名称"]?e["名称"]:e.name,e["积分"]=e["积分"]?e["积分"]:0,e[" 胜 "]=e["胜"]?e["胜"]:0,delete e["胜"]&&e["胜"],e[" 平 "]=e["平"]?e["平"]:0,delete e["平"]&&e["平"],e[" 负 "]=e["负"]?e["负"]:0,delete e["负"]&&e["负"],e["净胜"]=e["净胜球"]?e["净胜球"]:0,delete e["净胜球"]&&e["净胜球"],e["胜球"]=e["胜球"]?e["胜球"]:0,e["输球"]=e["输球"]?e["输球"]:0,e)))));class p{constructor(e){a(this,"title"),a(this,"key"),a(this,"fixed"),a(this,"width"),a(this,"align"),a(this,"render"),a(this,"sorter"),this.title=e,this.key=e,this.fixed="俱乐部"===e?"left":null,this.width="俱乐部"===e?100:null,this.align="俱乐部"===e?"left":"center",this.render=e=>{return j("p",{style:{margin:0,color:(a=e,i===a.id?"green":"black")}},{default:()=>e[this.key]});var a},this.sorter="default"}}let h=[new p("俱乐部"),new p("积分"),new p(" 胜 "),new p(" 平 "),new p(" 负 "),new p("净胜"),new p("胜球"),new p("输球")];return(e,a)=>{const l=r("n-data-table"),t=r("n-card");return u(),o(t,{title:"赛季排行榜"},{default:d((()=>[v(l,{columns:c(h),data:c(m),loading:c(n),size:"small"},null,8,["columns","data","loading"])])),_:1})}}}),he=n({setup:e=>(e,a)=>{const l=r("n-gi"),t=r("n-grid");return u(),p(y,null,[v(K),v(t,{cols:"2","x-gap":"20"},{default:d((()=>[v(l,null,{default:d((()=>[v(pe)])),_:1}),v(l,null,{default:d((()=>[v(ve)])),_:1})])),_:1})],64)}});export{he as default};
